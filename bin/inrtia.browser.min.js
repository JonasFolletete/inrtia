!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Inrtia=e()}(this,function(){"use strict";var t=function(t,e,i){return t-(t-e)/i.friction},e=function(t,e,i,s,n){n&&(this.speed=0);var o=(-(t-e)/(i.friction/100)+-i.rigidity*this.speed)/i.mass;return this.speed+=o*s,t+this.speed*s},i=function(t,e,i,s,n){n&&(this.speed=0);var o=(-(t-e)/(i.friction/100)+-i.rigidity*this.speed)/i.mass;this.speed+=o*s;var r=t+this.speed*s;return r-e>=0?(this.speed=-this.speed,e):r},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();return function(){function o(t){var e=t.value,i=t.interpolation,n=void 0===i?"linear":i,r=t.precisionStop,a=void 0===r?.001:r,u=t.perfectStop,p=void 0!==u&&u,h=t.rigidity,l=void 0===h?.1:h,c=t.friction,f=void 0===c?10:c,d=t.mass,v=void 0===d?.01:d;s(this,o),this.value=e,this.targetValue=e,this.stopped=!0,this.precisionStop=a,this.perfectStop=p,this.interpolationFn=this.getInterpolation(n),this.interpolationParams={rigidity:l,friction:f,mass:v}}return n(o,[{key:"getInterpolation",value:function(s){switch(s){case"elastic":return e;case"bounce":return i;default:return t}}},{key:"to",value:function(t){this.targetValue=t,this.stopped&&this.start()}},{key:"start",value:function(){this.reset=!0,this.stopped=!1,this.lastTime=Date.now()-17}},{key:"update",value:function(){if(this.stopped)return!1;var t=Date.now(),e=(t-this.lastTime)/1e3,i=this.value-this.targetValue;return this.value=this.interpolationFn.call(this,this.value,this.targetValue,this.interpolationParams,e,this.reset),this.reset&&(this.reset=!1),this.needStop(i)&&(this.perfectStop&&(this.value=this.targetValue),this.stop()),this.lastTime=t,this.value}},{key:"needStop",value:function(t){return Math.abs(t)<this.precisionStop&&(!!isNaN(this.speed)||Math.abs(this.speed)<this.precisionStop)}},{key:"stop",value:function(){this.stopped=!0}},{key:"destroy",value:function(){this.stop(),this.interpolationFn=null,this.interpolationParams=null}}]),o}()});