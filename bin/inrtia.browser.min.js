!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Inrtia=e()}(this,function(){"use strict";var t=function(t,e,i){return t-(t-e)/i.friction},e=function(t,e,i,n,s){s&&(this.speed=0);var o=(-(t-e)/(i.friction/100)+-i.rigidity*this.speed)/i.mass;return this.speed+=o*n,t+this.speed*n},i=function(t,i,n,s,o){var r=e.call(this,t,i,n,s,o);return r-i>=0?(this.speed=-this.speed,i):r},n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();return function(){function o(t){var e=t.value,i=t.interpolation,s=void 0===i?"linear":i,r=t.precisionStop,a=void 0===r?.001:r,u=t.perfectStop,h=void 0!==u&&u,p=t.rigidity,l=void 0===p?.1:p,c=t.friction,f=void 0===c?10:c,d=t.mass,v=void 0===d?.01:d;n(this,o),this.value=e,this.targetValue=e,this.stopped=!0,this.precisionStop=a,this.perfectStop=h,this.interpolationFn=this.getInterpolation(s),this.interpolationParams={rigidity:l,friction:f,mass:v}}return s(o,[{key:"getInterpolation",value:function(n){switch(n){case"elastic":return e;case"bounce":return i;default:return t}}},{key:"to",value:function(t){this.targetValue=t,this.stopped&&this.start()}},{key:"start",value:function(){this.reset=!0,this.stopped=!1,this.lastTime=Date.now()-17}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.stopped)return!1;var e=Date.now(),i=t||(e-this.lastTime)/1e3,n=this.value-this.targetValue;return this.value=this.interpolationFn.call(this,this.value,this.targetValue,this.interpolationParams,i,this.reset),this.reset&&(this.reset=!1),this.needStop(n)&&(this.perfectStop&&(this.value=this.targetValue),this.stop()),this.lastTime=e,this.value}},{key:"needStop",value:function(t){return Math.abs(t)<this.precisionStop&&(!!isNaN(this.speed)||Math.abs(this.speed)<this.precisionStop)}},{key:"stop",value:function(){this.stopped=!0}},{key:"destroy",value:function(){this.stop(),this.interpolationFn=null,this.interpolationParams=null}}]),o}()});